<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰‹æŠŠæ‰‹AIç³»åˆ— | by SHNUYL</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #f8f9fa;
            --text: #34495e;
            --radius: 12px;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            max-width: 900px;
            margin: 1rem auto;
            padding: 1rem;
            background: var(--light);
            line-height: 1.6;
            color: var(--text);
            position: relative;
            padding-bottom: 60px;
        }

        h1 {
            text-align: center;
            color: var(--primary);
            margin: 1.5rem 0;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            font-size: clamp(1.25rem, 3vw, 1.5rem);
        }

        .menu-group {
            margin: 1.5rem 0;
            border-radius: var(--radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            background: white;
            transition: transform 0.2s ease;
        }

        .menu-group:hover {
            transform: translateY(-2px);
        }

        .menu-header {
            padding: 1.2rem 2rem;
            background: linear-gradient(135deg, var(--primary), #2980b9);
            color: white;
            cursor: pointer;
            font-weight: 500;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: clamp(0.95rem, 2vw, 1rem);
        }

        .submenu-content {
            padding: 1.5rem;
            display: none;
            border-top: 2px solid rgba(52, 152, 219, 0.1);
        }

        .active .submenu-content {
            display: block;
        }

        .input-row {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            align-items: center;
        }

        select, input, textarea {
            width: 100%;
            max-width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
            box-sizing: border-box;
        }

        select:focus, input:focus, textarea:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.2);
        }

        .tool-selector {
            display: flex;
            gap: 0.8rem;
            background: #f4f6f8;
            padding: 0.8rem;
            border-radius: 8px;
            margin-left: auto;
        }

        .tool-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .tool-radio {
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            position: relative;
            cursor: pointer;
        }

        .tool-radio:checked::before {
            content: "";
            position: absolute;
            top: 2px;
            left: 2px;
            width: 10px;
            height: 10px;
            background: var(--secondary);
            border-radius: 50%;
        }

        button {
            background: linear-gradient(135deg, var(--secondary), #2980b9);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            width: auto;
            min-width: 120px;
        }

        button.inline-btn {
            width: auto;
            flex-shrink: 0;
            box-shadow: 0 2px 6px rgba(52, 152, 219, 0.2);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }

        .output-area {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: 8px;
            border: 2px solid rgba(52, 152, 219, 0.1);
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.8;
            font-family: 'Courier New', Courier, monospace;
        }

        .loading {
            color: #7f8c8d;
            padding: 1rem;
            text-align: center;
            font-style: italic;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        #titleInput {
            margin-bottom: 1rem;
        }

        .assist-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        #assistType {
            flex: 1;
            min-width: 200px;
        }

        .two-col-selects {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .menu-header {
                padding: 1rem;
            }

            .submenu-content {
                padding: 1rem;
            }

            .assist-controls {
                flex-direction: column;
                gap: 1rem;
            }

            .assist-controls > div:first-child {
                width: 100%;
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }

            #assistType, button.inline-btn {
                width: 100% !important;
            }

            .tool-selector {
                margin-left: 0;
                width: 100%;
                justify-content: center;
            }

            .two-col-selects {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 0.8rem;
            }

            .output-area {
                padding: 1rem;
                font-size: 0.9rem;
            }
        }
.error {
    color: #e74c3c;
    padding: 1rem;
    background: #fdecea;
    border-radius: 8px;
}

.response-content {
    white-space: pre-wrap;
    font-family: 'Courier New', Courier, monospace;
    line-height: 1.8;
}

.response-content strong {
    color: #e74c3c;
    font-weight: bold;
}
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--primary);
            color: white;
            padding: 0.5rem;
            text-align: center;
            font-size: 0.85rem;
            z-index: 100;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
        }

        footer img {
            position: absolute;
            right: 629px;
            top: 410px;
            transform: translateY(-50%);
            width: 16px;
            height: 15px;
        }
    </style>
</head>
<body>
    <h1>æ‰‹æŠŠæ‰‹Â·AIå†™ä½œæ•™ç»ƒ | é«˜ä¸­è¯­æ–‡V2.1.1ç‰ˆ</h1>

    <!-- ä½œæ–‡é¢˜åº“æ¨¡å— -->
    <div class="menu-group">
        <div class="menu-header" onclick="toggleMenu('qbank')">ğŸ“– ä½œæ–‡é¢˜åº“</div>
        <div id="qbank" class="submenu-content">
            <div class="two-col-selects">
                <select id="examType" onchange="loadQuestions()">
                    <option value="gaokao">ä¸Šæµ·é«˜è€ƒä½œæ–‡é¢˜ç›®</option>
                    <option value="mock">ä¸Šæµ·æ¨¡è€ƒä½œæ–‡é¢˜ç›®</option>
                </select>
                <select id="questionList" onchange="showQuestion()"></select>
            </div>
            <div id="questionOutput" class="output-area"></div>
        </div>
    </div>

    <!-- æ™ºèƒ½æŒ‡å¯¼æ¨¡å— -->
    <div class="menu-group">
        <div class="menu-header" onclick="toggleMenu('assist')">ğŸ’¡ æˆ‘è¦æ±‚åŠ©</div>
        <div id="assist" class="submenu-content">
            <input type="text" id="titleInput" placeholder="è¯·è¾“å…¥ä½œæ–‡é¢˜ç›®æˆ–å…³é”®è¯ï¼ˆç”Ÿæˆç»“æœä¸æ»¡æ„å¯å¤šå°è¯•å‡ æ¬¡ï¼Œç”µè„‘ç‰ˆå¤åˆ¶ç²˜è´´ç”¨å¿«æ·é”®ctrl+c/vï¼‰">
            
            <div class="assist-controls">
                <div style="display: flex; gap: 1rem; flex: 1;">
                    <select id="assistType">
                        <option value="concept">å®¡é¢˜ç«‹æ„</option>
                        <option value="argument">æç‚¼è®ºç‚¹</option>
                        <option value="evidence">æä¾›è®ºæ®</option>
                        <option value="outline">æ­å»ºæçº²</option>
                        <option value="sample">ç”ŸæˆèŒƒæ–‡</option>
                    </select>
                    <button onclick="handleAssist()" class="inline-btn">è·å–æŒ‡å¯¼</button>
                </div>
                
                <div class="tool-selector">
                    <label class="tool-option">
                        <input type="radio" class="tool-radio" name="tool" value="glm" checked>
                        æ™ºè°±
                    </label>
                    <label class="tool-option">
                        <input type="radio" class="tool-radio" name="tool" value="gpt">
                        GPT
                    </label>
                    <label class="tool-option">
                        <input type="radio" class="tool-radio" name="tool" value="deepseek">
                        DeepSeek
                    </label>
                </div>
            </div>
            
            <div id="assistOutput" class="output-area"></div>
        </div>
    </div>

    <!-- ä½œæ–‡ä¿®æ”¹æ¨¡å— -->
    <div class="menu-group">
        <div class="menu-header" onclick="toggleMenu('revise')">âœï¸ å¸®æˆ‘ä¿®æ”¹</div>
        <div id="revise" class="submenu-content">
            <textarea id="contentInput" rows="6" placeholder="è¯·è¾“å…¥éœ€è¦ä¿®æ”¹çš„ä½œæ–‡å†…å®¹ï¼ˆä¸è¶…è¿‡1100å­—ï¼Œç”µè„‘ç‰ˆå¤åˆ¶ç²˜è´´ç”¨å¿«æ·é”®ctrl+c/vï¼‰"></textarea>
            <div class="assist-controls">
                <button onclick="handleRevise()" class="inline-btn">è·å–ä¿®æ”¹å»ºè®®</button>
                <div class="tool-selector">
                    <label class="tool-option">
                        <input type="radio" class="tool-radio" name="reviseTool" value="glm" checked>
                        æ™ºè°±
                    </label>
                    <label class="tool-option">
                        <input type="radio" class="tool-radio" name="reviseTool" value="gpt">
                        GPT
                    </label>
                    <label class="tool-option">
                        <input type="radio" class="tool-radio" name="reviseTool" value="deepseek">
                        DeepSeek
                    </label>
                </div>
            </div>
            <div id="reviseOutput" class="output-area"></div>
        </div>
    </div>

    <footer>
        <div></div>  
        <div>Â© 2025 SHNUYL ç‰ˆæƒæ‰€æœ‰ | æ‰‹æŠŠæ‰‹ Â· AIå·¥å…·ç³»åˆ—</div>
    </footer>

    <script>
        const API_CONFIG = {
            glm: {
                endpoint: "https://open.bigmodel.cn/api/paas/v4/chat/completions",
                key: "c133879b5bee426bbab21944c05fddd3.pYFGJEqyqXofQoZd",
                model: "glm-4"
            },
            gpt: {
                endpoint: "https://api.chatanywhere.tech/v1/chat/completions",
                key: "sk-D2h2jiFqA08Iac858rjWohNdPyrJ2rzecQei3UMo67CxBELQ",
                model: "gpt-4o-mini"
            },
            deepseek: {
                endpoint: "https://api.deepseek.com/chat/completions",
                key: "sk-9f9a27027a0d4652aeb9466aff6f565f",
                model: "deepseek-chat"
            }
        };

        const QUESTION_BANK = {
            gaokao: [
                {title: "2025ç§‹è€ƒ", content: "æœ‰å­¦è€…ç”¨â€œä¸“â€â€œè½¬â€â€œä¼ â€æ¦‚æ‹¬å½“ä¸‹ä¸‰ç±»æ–‡ç« ï¼šâ€œä¸“â€æŒ‡ä¸“ä¸šæ–‡ç« ï¼›â€œè½¬â€æŒ‡è¢«è½¬å‘çš„é€šä¿—æ–‡ç« ï¼›â€œä¼ â€æŒ‡è·å¾—å¹¿æ³›ä¼ æ’­çš„ä½³ä½œï¼Œç”šè‡³æ˜¯ä¼ ä¸–æ–‡ç« ã€‚ä»–æå‡ºï¼Œä¸“ä¸šæ–‡ç« å¯ä»¥å˜æˆè¢«è½¬å‘çš„é€šä¿—æ–‡ç« ï¼Œè€Œé¢å¯¹å¤§é‡â€œè½¬â€æ–‡ï¼Œè¯»è€…åˆä¸å…æœŸå¾…å¯ä¼ ä¸–çš„æ–‡ç« ã€‚ç”±â€œä¸“â€åˆ°â€œä¼ â€ï¼Œå¿…å®šè¦ç»è¿‡â€œè½¬â€å—ï¼Ÿ"},
                {title: "2025æ˜¥è€ƒ", content: "æˆ‘ä»¬çš„åŠ³åŠ¨ä½¿å¤§åœ°æ”¹å˜äº†æ¨¡æ ·ï¼Œåœ¨å¤§åœ°çš„æ¨¡æ ·é‡Œæˆ‘ä»¬çœ‹åˆ°äº†è‡ªå·±ã€‚"},
                {title: "2024ç§‹è€ƒ", content: "ç”Ÿæ´»ä¸­ï¼Œäººä»¬å¸¸ç”¨è®¤å¯åº¦åˆ¤åˆ«äº‹ç‰©ï¼ŒåŒºåˆ†é«˜ä¸‹ã€‚è¯·è°ˆè°ˆå¯¹â€œè®¤å¯åº¦â€çš„è®¤è¯†å’Œæ€è€ƒã€‚"},
                {title: "2024æ˜¥è€ƒ", content: "å¯¹å·²æœ‰çŸ¥è¯†çš„ç»¼åˆï¼Œæ˜¯åˆ›æ–°å—ï¼Ÿ"},
                {title: "2023ç§‹è€ƒ", content: "ä¸€ä¸ªäººä¹æ„å»æ¢ç´¢é™Œç”Ÿä¸–ç•Œï¼Œä»…ä»…æ˜¯å› ä¸ºå¥½å¥‡å¿ƒå—ï¼Ÿ"},
                {title: "2023æ˜¥è€ƒ", content: "æœ‰äººè¯´ï¼Œæ‰€æœ‰é‡è¦çš„ä¸œè¥¿åœ¨å¾ˆæ—©ä»¥å‰å°±æåˆ°è¿‡äº†ã€‚ä½ æ˜¯å¦è®¤åŒè¿™ä¸€è§‚ç‚¹ï¼Ÿ"},
                {title: "2022ç§‹è€ƒ", content: "å°æ—¶å€™äººä»¬å–œæ¬¢å‘é—®ï¼Œé•¿å¤§åå¾€å¾€çœ‹é‡ç»“è®ºã€‚å¯¹æ­¤ï¼Œæœ‰äººæ„Ÿåˆ°æ‹…å¿§ï¼Œæœ‰äººè§‰å¾—æ­£å¸¸ï¼Œä½ æœ‰æ€æ ·çš„æ€è€ƒï¼Ÿ"},
                {title: "2022æ˜¥è€ƒ", content: "äººä»¬å€¾å‘ä¸è®¤ä¸ºâ€œæµ“ç¼©çš„å°±æ˜¯ç²¾åâ€"},
                {title: "2021ç§‹è€ƒ", content: "æœ‰äººè¯´ï¼Œç»è¿‡æ—¶é—´çš„æ²‰æ·€ï¼Œäº‹ç‰©çš„ä»·å€¼æ‰èƒ½è¢«äººä»¬è®¤è¯†ï¼›ä¹Ÿæœ‰äººè®¤ä¸ºä¸å°½å¦‚æ­¤ã€‚"},
                {title: "2021æ˜¥è€ƒ", content: "æœ‰äººè¯´ï¼Œä½ æ€ä¹ˆåšï¼Œå°±ä¼šæˆä¸ºä»€ä¹ˆæ ·çš„äººï¼Œä¹Ÿæœ‰äººè§‰å¾—ä¸å°½å¦‚æ­¤ã€‚"},
                {title: "2020ç§‹è€ƒ", content: "ä¸–ä¸Šè®¸å¤šé‡è¦çš„è½¬æŠ˜æ˜¯åœ¨æ„æƒ³ä¸åˆ°æ—¶å‘ç”Ÿçš„ï¼Œè¿™æ˜¯å¦æ„å‘³ç€äººå¯¹äº‹ç‰©å‘å±•è¿›ç¨‹æ— èƒ½ä¸ºåŠ›ï¼Ÿ"}
            ],
            mock: [
                 {title: "2025æ¨æµ¦ä¸‰æ¨¡", content: "ä½œå®¶ä½™åæ›¾ç»è¯´ï¼šâ€œæ— è®ºå†™ä½œè¿˜æ˜¯äººç”Ÿï¼Œæ­£ç¡®çš„å‡ºå‘éƒ½æ˜¯èµ°è¿›â€˜çª„é—¨â€™ï¼Œä¸è¦è¢«å®½é˜”çš„â€˜å¤§é—¨â€™æ‰€è¿·æƒ‘ï¼Œé‚£é‡Œé¢çš„è·¯æ²¡æœ‰å¤šé•¿ã€‚â€"},
                {title: "2025åäºŒä¸‰æ¨¡", content: "æœ‰äººè¯´ï¼Œä½ å¯¹ä¸€ä¸ªäººçš„æœŸå¾…è¶Šé«˜ï¼Œè¿™ä¸ªäººæ‰€å–å¾—çš„æˆå°±ä¹Ÿä¼šè¶Šå¤§ã€‚"},
                {title: "2025æµ¦ä¸œä¸‰æ¨¡", content: "å°æ—¶å€™ï¼Œè¡Œèµ°å¸¸å¸¸æ˜¯å¯¹ä¸–ç•Œçš„æ¢ç´¢ï¼›é•¿å¤§åï¼Œè¡Œèµ°å¾€å¾€æ˜¯ä¸ºäº†åˆ°è¾¾ç›®çš„åœ°ã€‚"},
                {title: "2025é»„æµ¦äºŒæ¨¡", content: "æ—¶é—´åŠ é€ŸåŒ–å¹¶ä¸ä¼šä»¤äººæ„Ÿåˆ°å……å®ï¼Œåè€Œä¼šä½¿äººä»¬è§‰å¾—ç”Ÿæ´»ä»æœªçœŸæ­£å¼€å§‹è¿‡ã€‚"},
                {title: "2025å´‡æ˜äºŒæ¨¡", content: "ç”Ÿæ´»ä¸­ï¼Œäººä»¬å¾€å¾€å› ä¸ºæ‹…å¿§è¡ŒåŠ¨åçš„ç»“æœè€Œæ”¾å¼ƒè¡ŒåŠ¨ã€‚"},
                {title: "2025å˜‰å®šäºŒæ¨¡", content: "æœ‰äººè¯´ï¼šäººæ˜¯ä¸€æ ¹ä¼šæ€è€ƒçš„èŠ¦è‹‡ã€‚"},
                {title: "2025æµ¦ä¸œäºŒæ¨¡", content: "æˆ‘ä»¬å¥‹æ–—çš„ç›®çš„æ˜¯ä¸ºäº†æ”¹å˜ä¸–ç•Œï¼Œè¿˜æ˜¯ä¸è®©ä¸–ç•Œæ”¹å˜æˆ‘ä»¬ï¼Ÿ"},
                {title: "2025å¾æ±‡äºŒæ¨¡", content: "æˆ‘ä»¬å¸¸ä¼šæ„Ÿå—åˆ°ä»–äººçš„æœŸå¾…å¸¦æ¥çš„å‹åŠ›ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬æ˜¯å¦ä¸è¯¥è¢«ä»–äººçš„æœŸå¾…æ‰€å½±å“?"},
                {title: "2025é—µè¡ŒäºŒæ¨¡", content: "å°æ˜:â€œåœ¨ç§‘æŠ€æ—¥ç›Šè¿›æ­¥çš„å½“ä¸‹ï¼Œäººä»¬æ›´éœ€çæƒœå¯ä»¥è¯•é”™çš„æœºä¼šã€‚å°äº®:â€œçŠ¯é”™å°±åº”æ‰¿æ‹…ç›¸åº”çš„è´£ä»»ï¼Œæ€ä¹ˆè¿˜è¦çæƒœè¯•é”™çš„æœºä¼šå‘¢?â€å°æ˜:â€œæˆ‘è¯´çš„æ˜¯è¯•é”™ï¼Œä¸æ˜¯çŠ¯é”™ã€‚â€å°äº®:â€œéš¾é“éšç€ç§‘æŠ€è¿›æ­¥ï¼Œäººç±»è¯•é”™çš„æœºä¼šåœ¨å‡å°‘å—?â€å°æ˜:â€œæˆ‘è§‰å¾—æ˜¯åœ¨å‡å°‘ã€‚â€è¯·å†™ä¸€ç¯‡æ–‡ç« ï¼Œè°ˆè°ˆä½ å¯¹å°æ˜çš„è¯çš„è®¤è¯†å’Œæ€è€ƒã€‚"},
                {title: "2025å¥‰è´¤äºŒæ¨¡", content: "è¾¾å…‹æ•ˆåº”â€æ˜¯ä¸€ç§å¿ƒç†ç°è±¡ï¼ŒæŒ‡èƒ½åŠ›å¼±çš„äººä¼šå¯¹è‡ªå·±ä½œå‡ºè¿‡é«˜è¯„ä»·ï¼Œè€Œèƒ½åŠ›é«˜çš„äººå´ä¼šä½œå‡ºè¾ƒä½çš„è¯„ä»·ã€‚è¿™ä¸€å¿ƒç†å­¦ç°è±¡å¼•å‘æˆ‘ä»¬å¯¹äºè‡ªæˆ‘è®¤çŸ¥çš„æ€è€ƒï¼Œè¯·è°ˆè°ˆä½ çš„çœ‹æ³•ã€‚"},
                {title: "2025é™å®‰äºŒæ¨¡", content: "æŸä¸­å­¦çš„æ ¡è®­æ˜¯ï¼šæœªæ¥å„è¡Œä¸šé‡Œçš„åˆ›æ–°äººæ‰å°±åœ¨è¿™é‡Œæˆé•¿ã€‚è¯·é—®ï¼Œä¸­å­¦é˜¶æ®µçš„åˆ›æ–°ï¼Œä¸»è¦æ˜¯æ•™è‚²å­¦ç”Ÿéµå®ˆè§„åˆ™ï¼Œè¿˜æ˜¯åŸ¹å…»ä»–ä»¬æ‰“ç ´è§„åˆ™çš„ä¹ æƒ¯äºèƒ½åŠ›?"},
                {title: "2025æ¾æ±ŸäºŒæ¨¡", content: "æœ‰äººè¯´ï¼Œåœ¨å±å¹•ä¸­è®¤è¯†è´è¶çš„å­©å­ï¼Œå°†åœ¨ç°å®ä¸­å¤±å»é£ç¿”çš„ç¿…è†€ã€‚å¯¹æ­¤ï¼Œä½ æ˜¯å¦è®¤åŒ?"},
                {title: "2025è™¹å£äºŒæ¨¡", content: "äººæ˜¯ä¸€æ ¹ä¼šæ€æƒ³çš„èŠ¦è‹‡ï¼Œä¸€æ—¦å¼ºå¤§çš„æœºå™¨æˆä¸ºæ€æƒ³çš„å¼•æ“ï¼Œå¿…å°†ç»™èŠ¦è‹‡å¸¦æ¥æ·±åˆ»çš„å˜åŒ–ã€‚"},
                {title: "2025æ™®é™€äºŒæ¨¡", content: "æœ‰äººè¯´ï¼Œæ‡‚å¾—æ‚²æ‚¯ï¼Œæ–¹çŸ¥ç”Ÿæ´»çš„é‡é‡ã€‚"},
                {title: "2025é•¿å®äºŒæ¨¡", content: "ç½‘ç»œè¯„è®ºåŒºçš„æƒ…ç»ªè¡¨è¾¾å¾€å¾€ç›´æ¥è€Œæ¿€çƒˆï¼Œè¿™åœ¨æ¿€æ´»å…¬å…±è®¨è®ºçš„åŒæ—¶ï¼Œä¹Ÿè®©äººäº§ç”Ÿä¸å°‘å¿§è™‘ã€‚"},
                {title: "2025æ¨æµ¦äºŒæ¨¡", content: "è¥å…»å¸ˆç²¾ç¡®è®¡ç®—æ¯é¤çš„å¡è·¯é‡Œï¼Œè¿åŠ¨æ‰‹ç¯ç›‘æµ‹ç€æ¯ä¸€æ¬¡å¿ƒè·³å‘¼å¸ï¼Œæœ‰äººæ‹…å¿§ï¼šæˆ‘ä»¬è¶Šæ¥è¶Šä¹ æƒ¯ç”¨ç²¾ç»†åŒ–çš„æ ‡å°ºä¸ˆé‡ç”Ÿæ´»ï¼Œå´å¾€å¾€é—å¿˜äº†ç”Ÿæ´»æœ¬èº«ã€‚"},
                {title: "2025å®å±±äºŒæ¨¡", content: "æ€œæ‚¯æ˜¯äººçš„å¤©æ€§ï¼Œä½†æ˜¯ä¹Ÿæœ‰äººè¯´ï¼šâ€œåªæœ‰éå¸¸ä¸å¹¸çš„äººæ‰èƒ½æœ‰æ€œæ‚¯åˆ«äººçš„æƒåˆ©ã€‚â€"},
                {title: "2025é‡‘å±±äºŒæ¨¡", content: "ç”Ÿæ´»ä¸­ï¼Œäººä»¬å¾€å¾€å› æ€¥äºæ±‚æˆè€Œäº§ç”Ÿå¿§è™‘ï¼Œç„¶è€Œï¼Œå¾ˆå¤šäº‹æƒ…æœªå¿…å¦‚è‡ªå·±æ‰€å¿§è™‘çš„é‚£æ ·ã€‚"},
                {title: "2025é’æµ¦äºŒæ¨¡", content: "ç”Ÿæ´»ä¸­ï¼Œäººä»¬å¸¸å¯„å¸Œæœ›äºåŠªåŠ›æå‡è‡ªå·±æ¥æ›´å¥½åœ°æŒæ§è‡ªå·±çš„å‘½è¿ã€‚"},
                {title: "2024å¾æ±‡ä¸€æ¨¡", content: "æˆ‘ä»¬æ›´åº”çªç ´è‡ªèº«çš„å±€é™æ€§ï¼Œè¿˜æ˜¯æ¥å—è‡ªèº«çš„å±€é™æ€§ï¼Ÿ"},
                {title: "2024é™å®‰ä¸€æ¨¡", content: "ä½å¤´åˆ’æ‰‹æœºå¹²æ‰°äº†ç°åœºæ„ŸçŸ¥åŠäººé™…å…³ç³»ï¼›ä½†æœ‰äººè®¤ä¸ºï¼Œä½å¤´åˆ’æ‰‹æœºä¸»è¦æ˜¯åœ¨å¯»æ‰¾è®©è‡ªå·±æœ‰å½’å±æ„Ÿçš„åœ°æ–¹ã€‚"},
                {title: "2024æ¨æµ¦ä¸€æ¨¡", content: "åœ¨ç°ä»£ç¤¾ä¼šï¼Œé«˜æ¸…çºªå½•ç‰‡å¯å‘ˆç°çƒ­å¸¦é›¨æ—çš„ç¹èŒ‚ã€æåœ°å†°å·çš„å£®ä¸½ï¼Œè™šæ‹Ÿç°å®è®¾å¤‡èƒ½æ¨¡æ‹Ÿæ¼«æ­¥å±±é—´ã€æ³›èˆŸèƒ¡æµ·çš„æƒ¬æ„ï¼Œæ‰“å¼€æ‰‹æœºå°±èƒ½æ¬£èµç¾æ™¯ç›´æ’­......ç„¶è€Œï¼Œä»æœ‰è®¸å¤šäººæ‰§ç€äºäº²èº«å¥”èµ´è‡ªç„¶ã€‚"},
                {title: "2024é—µè¡Œä¸€æ¨¡", content: "å¤§æ˜æ„Ÿå¹é“ï¼šâ€œæˆ‘å¬è¿‡è®¸å¤šé“ç†ï¼Œä½†è¿˜æ˜¯è¿‡ä¸å¥½è‡ªå·±çš„ç”Ÿæ´»â€ã€‚"},
                {title: "2024å®å±±ä¸€æ¨¡", content: "èº«å¤„ä¿¡æ¯åŒ–æ—¶ä»£ï¼Œäººä»¬å¯ä»¥è½»è€Œæ˜“ä¸¾è·å–å¤§é‡ä¿¡æ¯ã€‚é‚£ä¹ˆï¼Œè·å–æ›´å¤šçš„ä¿¡æ¯æ˜¯å¦ä½¿äººå˜å¾—æ›´èªæ˜ï¼Ÿ"},
                {title: "2024é‡‘å±±ä¸€æ¨¡", content: "ç”Ÿæ´»ä¸­ï¼Œäººä»¬å¾€å¾€ç”¨å¸¸è¯†å»çœ‹å¾…äº‹ç‰©ï¼Œåšå‡ºåˆ¤æ–­ã€‚å¯¹æ­¤ï¼Œä½ æ€ä¹ˆçœ‹ï¼Ÿ"},
                {title: "2024æ¾æ±Ÿä¸€æ¨¡", content: "æœ‰äººè¯´ï¼Œåˆ†æ­§æ¯”å…±è¯†æ›´æœ‰æ„ä¹‰ã€‚å¯¹æ­¤ï¼Œä½ æ˜¯å¦è®¤åŒï¼Ÿ"},
                {title: "2024é’æµ¦ä¸€æ¨¡", content: "ç”Ÿæ´»ä¸­æœ‰å¾ˆå¤šæˆ‘ä»¬æ— æ³•æ§åˆ¶çš„äº‹ï¼Œè¿™æ˜¯å¦æ„å‘³ç€æˆ‘ä»¬åªéœ€è¦å…³å¿ƒè‡ªå·±èƒ½æ§åˆ¶çš„äº‹ï¼Ÿ"},
                {title: "2024æµ¦ä¸œä¸€æ¨¡", content: "ä¸€ä¸ªäººå±¥è¡Œè´£ä»»æ˜¯å¦æ„å‘³ç€æ”¾å¼ƒè‡ªç”±ï¼Ÿ"},
                {title: "2024å˜‰å®šä¸€æ¨¡", content: "ç”Ÿæ´»ä¸­ï¼Œäººä»¬å¾€å¾€ç”¨â€œæœ‰ç”¨â€ä½œä¸ºåˆ¤åˆ«äº‹ç‰©å¹¶åšå‡ºé€‰æ‹©çš„é‡è¦æ ‡å‡†ã€‚"},
                {title: "2024é»„æµ¦ä¸€æ¨¡", content: "ç”Ÿæ´»ä¸­ï¼Œè®¸å¤šäººé€‰æ‹©â€œæ–­èˆç¦»â€ï¼Œä»¥æ›´å¥½åœ°è®¤æ¸…è‡ªå·±å†…å¿ƒçš„çœŸå®æ‰€æ±‚ã€‚"}
            ]
        };

        const PROMPT_TEMPLATES = {
            concept: "ä½œä¸ºä¸Šæµ·é«˜è€ƒä½œæ–‡å‘½é¢˜å’Œè¯„é˜…ä¸“å®¶ï¼Œè¯·ä¸ºã€Š{title}ã€‹æä¾›å®¡é¢˜ç«‹æ„æŒ‡å¯¼ï¼š1. å…³é”®è¯æå–ï¼ˆ3-5ä¸ªæ ¸å¿ƒè¯ï¼‰ï¼›2. é€»è¾‘å…³ç³»å›¾ï¼ˆä½¿ç”¨ASCIIç»˜åˆ¶ï¼‰ï¼›3. ä»¥åˆ—è¡¨çš„å½¢å¼æä¾›5ä¸ªç¬¦åˆè¦æ±‚çš„ç«‹æ„æ–¹å‘ï¼ˆ1ä¸ªç«‹æ„æ–¹å‘=1ä¸ªè§‚ç‚¹å¥ï¼Œè§‚ç‚¹å¥çš„è¯­å¥å½¢å¼ä¸è¦è¿‡äºæ•´é½ï¼‰ï¼Œæ¯ä¸ªç«‹æ„åŒ¹é…ä¸€ä¸ª10å­—ä»¥å†…çš„ä½œæ–‡é¢˜ç›®ï¼ˆä¸è¦å‡ºç°ä¸»å‰¯æ ‡é¢˜çš„å½¢å¼ï¼Œä¸­é—´ä¹Ÿä¸è¦ç”¨é€—å·æˆ–å†’å·ï¼Œå­—æ•°å’Œè¡¨è¿°é£æ ¼è¦æœ‰å˜åŒ–ï¼‰ï¼›4. æ¨èè¾©è¯åˆ†æè§’åº¦3ä¸ªï¼ˆè§’åº¦â€”â€”ä»¥â€œè§‚ç‚¹å¥â€çš„å½¢å¼å‘ˆç°ï¼›è§£é‡Šâ€”â€”å³ç›¸åº”çš„è¾©è¯åˆ†æï¼‰ï¼›5. ä¸è¦æ¶‰åŠæœ‰å…³ç–«æƒ…çš„å†…å®¹â€”â€”è¿™ä¸ªæç¤ºè¯­ç›¸å…³çš„å†…å®¹åªä½œä¸ºç”Ÿæˆå®¡é¢˜ç«‹æ„å†…å®¹çš„è§„åˆ™ï¼Œä¸è¦ä½œä¸ºç»“æœå‘ˆç°å‡ºæ¥ï¼Œä¸”åªå‘ˆç°ç»“æœï¼Œä¸éœ€è¦é¢å¤–çš„è§£é‡Šã€‚",

            argument: "è¯·ä¸ºã€Š{title}ã€‹æç‚¼è®ºç‚¹ç³»ç»Ÿï¼Œè¦æ±‚ï¼š1.æ ¸å¿ƒè®ºç‚¹ï¼ˆ20å­—å·¦å³ï¼Œä½¿ç”¨é€’è¿›æˆ–å‡è®¾ç­‰å¤å¥ï¼Œç»™å‡ºAã€Bä¸¤ç§é£æ ¼çš„è¡¨è¿°ï¼‰+ä½œæ–‡æ ‡é¢˜ï¼ˆåŒ¹é…æ ¸å¿ƒè®ºç‚¹ï¼Œæç‚¼Aã€Bä¸¤ä¸ªæ ‡é¢˜ï¼Œæ ‡é¢˜è¦æ±‚ï¼š10å­—ä»¥å†…ï¼Œä¸è¦å‡ºç°ä¸»å‰¯æ ‡é¢˜çš„å½¢å¼ï¼Œä¸­é—´ä¹Ÿä¸è¦ä½¿ç”¨é€—å·ï¼‰ï¼›2. ä¸‰ä¸ªåˆ†è®ºç‚¹ï¼ˆä½“ç°é€»è¾‘å±‚æ¬¡ï¼‰ï¼›3. ä½¿ç”¨ä¸åŒå¥å¼8ä¸ªè®ºç‚¹çš„å˜å¼å†™æ³•ï¼ŒåŒ…å«æ­£ã€åã€åˆçš„ä¸åŒç«‹åœºå’Œå†™æ³•ï¼Œæ¯”å¦‚ï¼š-è¿™ç§å°†è®¤å¯åº¦å¥‰ä¸ºåœ­è‡¬çš„è¯„åˆ¤æ–¹å¼ï¼Œå®åˆ™æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œæ—¢å¯èƒ½æŒ‡å¼•æ–¹å‘ï¼Œä¹Ÿå¯èƒ½é®è”½çœŸç›¸ã€‚-è®¤å¯åº¦ç¡®æœ‰å…¶ç°å®ä»·å€¼ã€‚ä½œä¸ºä¸€ç§é›†ä½“æ™ºæ…§çš„ç»“æ™¶ï¼Œå®ƒåæ˜ äº†å¤§å¤šæ•°äººçš„ç»éªŒåˆ¤æ–­ã€‚-è®¤å¯åº¦ä¹‹æ‰€ä»¥è¢«å¹¿æ³›é‡‡ç”¨ï¼Œæ­£æ˜¯å› ä¸ºå®ƒé™ä½äº†è®¤çŸ¥æˆæœ¬ï¼Œä¸ºå¤æ‚ä¸–ç•Œæä¾›äº†ç®€æ˜çš„è¯„åˆ¤æ ‡å‡†ã€‚-å½“è®¤å¯åº¦æˆä¸ºå”¯ä¸€æ ‡å‡†æ—¶ï¼Œç¾¤ä½“çš„ç›²ç›®æ€§å°±ä¼šæ˜¾ç°ï¼Œå½¢æˆæ³•å›½æ€æƒ³å®¶å¸•æ–¯å¡æ‰€è¯´çš„â€˜çœŸç†åœ¨äººæ•°ä¸Šçš„è°¬è¯¯â€™ã€‚-ç„¶è€Œï¼Œè®¤å¯åº¦ä¸€æ—¦è¢«ç»å¯¹åŒ–ï¼Œå°±ä¼šæ¼”å˜ä¸ºæ€ç»´çš„æš´æ”¿ã€‚Â·-é¢å¯¹è®¤å¯åº¦çš„åŒé‡æ€§ï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹æ‰¹åˆ¤æ€§æ€ç»´ã€‚-å°±åƒå¤å¸Œè…Šå“²å­¦å®¶èµ«æ‹‰å…‹åˆ©ç‰¹æ‰€è¯´ï¼šâ€˜æ¸…é†’çš„äººæœ‰ä¸€ä¸ªå…±åŒçš„ä¸–ç•Œï¼Œç¡æ¢¦ä¸­çš„äººå„æœ‰å„çš„ä¸–ç•Œã€‚â€™æˆ‘ä»¬åº”å½“æ—¢äº†è§£å…±åŒè®¤çŸ¥ï¼Œåˆä¿æŒæ¸…é†’çš„ç‹¬ç«‹æ€è€ƒã€‚-åœ¨è¿™ä¸ªä¼—å£°å–§å“—çš„æ—¶ä»£ï¼Œè®¤å¯åº¦ä¸åº”æ˜¯è¯„åˆ¤äº‹ç‰©çš„å”¯ä¸€åæ ‡ã€‚-çœŸæ­£çš„ä»·å€¼åˆ¤æ–­éœ€è¦æˆ‘ä»¬åœ¨ç¾¤ä½“è®¤çŸ¥ä¸ä¸ªäººç†æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚",

            evidence: "è¯·ä¸ºã€Š{title}ã€‹æä¾›å››ç»„è®ºæ®ï¼Œæ˜ç¡®è®ºæ®å¯¹è®ºç‚¹çš„æ”¯æ’‘ï¼š1.å¤ä»£äº‹ä¾‹ï¼ˆè¯¾å†…+è¯¾å¤–å„ä¸€ï¼‰ï¼›2.ç°å½“ä»£æ¡ˆä¾‹ï¼ˆç»“åˆè¿‘ä¸€ä¸¤å¹´ç¤¾ä¼šã€ç§‘æŠ€ã€æ–‡åŒ–å’Œå…¶ä»–ç­‰é¢†åŸŸï¼‰ï¼›3.å¤–å›½äº‹ä¾‹ï¼ˆè¯¾å†…+è¯¾å¤–å„ä¸€ï¼‰ï¼›4.æ–‡å­¦å’Œç¤¾ç§‘ç»å…¸åè‘—çš„åè¨€å…­åˆ™ï¼›5.å…ˆå‘ˆç°ä¸Šé¢çš„å››ç»„è®ºæ®ï¼Œå†ç»™å‡ºå®Œæ•´çš„æ„æ®µç¤ºä¾‹ï¼ˆæ€»-åˆ†-æ€»çš„æ¡†æ¶ï¼Œç”¨åˆ°ä¸Šè¿°å››ç»„è®ºæ®ä¸­çš„ä¸¤ä¸ªï¼‰ï¼š[è§‚ç‚¹å¥]...+è®ºæ®1ï¼ˆå«å¯¹è®ºæ®çš„åˆ†æï¼‰+è®ºæ®2ï¼ˆå«å¯¹è®ºæ®çš„åˆ†æï¼‰+[ç»“è®ºå¥]ã€‚",

            outline: "è¯·ä¸ºã€Š{title}ã€‹ç”Ÿæˆä¸¤ä¸ªè®®è®ºæ–‡æçº²ï¼Œæ¯ä¸ªæçº²è¦æœ‰å°äº10ä¸ªå­—çš„æ ‡é¢˜ï¼Œå…¨æ–‡çš„é€»è¾‘å…³ç³»è¦åˆç†ã€ç´§å¯†ï¼šã€Aç‰ˆã€‘æ ‡å‡†ç»“æ„ï¼š1. ä¸­å¿ƒè®ºç‚¹ â†’ 2. â€œè¯šç„¶â€å¼•å‡ºçš„æ®µè½ â†’ 3. â€œäº‹å®ä¸Šâ€å¼•å‡ºçš„æ®µè½ â†’ 4. â€œä¸è¿‡â€å¼•å‡ºçš„æ®µè½ â†’ 5. â€œæ›´ä½•å†µâ€å¼•å‡ºçš„æ®µè½ â†’ 6. â€œè¿”è§‚ç°å®â€å¼•å‡ºçš„æ®µè½ â†’ 7. ç»“è®ºå‡åã€‚ã€Bç‰ˆã€‘å˜å¼ç»“æ„ï¼šç»™å‡ºä¸åŒäºä¸Šè¿°æçº²çš„æ–°é¢–ã€æ·±åˆ»ã€ä¸¥å¯†çš„é«˜è€ƒè®®è®ºæ–‡æçº²ï¼Œä½†è¦ç¬¦åˆé«˜ä¸­ç”Ÿçš„è®¤çŸ¥ä¸è¡¨è¾¾ç‰¹ç‚¹å’Œæ°´å¹³ï¼Œæ®µè½æ€»æ•°7æ®µã€‚",

            sample: `è¯·æ ¹æ®ã€Š{title}ã€‹çš„å®¡é¢˜è¦æ±‚ï¼Œç”Ÿæˆä¸‰ç¯‡900å­—å·¦å³çš„èŒƒæ–‡ï¼š
ã€èŒƒæ–‡Aã€‘æ ‡å‡†ç‰ˆï¼Œè¦æ±‚ï¼š
(1)å…¨æ–‡å…±7æ®µï¼Œ900å­—å·¦å³
(2)åœ¨åˆé€‚çš„åœ°æ–¹åˆç†å¼•ç”¨ç»å…¸æ–‡å­¦å’Œç¤¾ç§‘åè‘—çš„è¨€è®º
(3)é™¤å¼€å¤´ã€ç»“å°¾æ®µä»¥å¤–ï¼Œå…¶ä»–æ®µè½éƒ½é‡‡ç”¨â€œ[è§‚ç‚¹å¥]...+è®ºæ®1ï¼ˆå«å¯¹è®ºæ®çš„åˆ†æï¼ŒåµŒå…¥ä½œæ–‡é¢˜ç›®ä¸­çš„å…³é”®è¯ï¼‰+è®ºæ®2ï¼ˆå«å¯¹è®ºæ®çš„åˆ†æï¼ŒåµŒå…¥ä½œæ–‡é¢˜ç›®ä¸­çš„å…³é”®è¯ï¼‰+[ç»“è®ºå¥]â€çš„ç»“æ„æ¥å†™ï¼Œè§‚ç‚¹å¥ç”¨åŠ ç²—å­—ä½“ï¼Œä½†ä¸è¦æ ‡æ³¨â€œè®ºæ®1â€â€œè§‚ç‚¹å¥â€ç­‰æç¤ºè¯
(4)æ ‡é¢˜å°½é‡æŠŠä½œæ–‡é¢˜ç›®çš„å…³é”®è¯åµŒè¿›å»
(5)æ ‡é¢˜çš„å­—æ•°â‰¤10å­—ï¼ˆä¸è¦ç”¨ä¸»å‰¯æ ‡é¢˜çš„å½¢å¼ï¼‰
(6)ç›´æ¥å‘ˆç°ä½œæ–‡çš„é¢˜ç›®ï¼ˆä¸è¦åŠ ä¹¦åå·ï¼‰ã€æ­£æ–‡ï¼ˆç”¨1.2.3.ç­‰æ•°å­—æ ‡æ³¨æ®µè½åºå·ï¼‰ï¼Œä¸è¦å‡ºç°æ­£æ–‡ä»¥å¤–çš„æç¤ºè¯è¯­
(7)æ­£æ–‡ç»“å°¾ç”¨"ï¼ˆå…±â€¦â€¦å­—ï¼‰"çš„å½¢å¼ç»Ÿè®¡å¹¶æ³¨æ˜æ­£æ–‡çš„å­—æ•°ï¼ˆä½†ä¸è¦æ ‡æ³¨æ¯æ®µçš„å­—æ•°ï¼‰

ã€èŒƒæ–‡Bã€‘å®šåˆ¶ç‰ˆï¼Œè¦æ±‚ï¼š
(1)å…¨æ–‡å…±7æ®µï¼Œ900å­—å·¦å³
(2)åœ¨åˆé€‚çš„åœ°æ–¹é€‚å½“å¼•ç”¨è‹è½¼ã€çº¢æ¥¼æ¢¦ã€ä¹Œåˆä¹‹ä¼—ã€æŸæ‹‰å›¾æ´ç©´éšå–»ã€ä¿¡æ¯èŒ§æˆ¿ã€å•å‘åº¦çš„äººã€æåŒ–äººç¾¤ã€â€œäººäººéƒ½æ˜¯éº¦å…‹é£â€â€œå¤§å¤šæ•°äººæ˜¯åˆ«äººâ€ç­‰è®ºæ®ï¼Œä½†ä¸è¦é‡å¤ä½¿ç”¨åŒä¸€ä¸ªè®ºæ®
(3)é™¤å¼€å¤´ã€ç»“å°¾æ®µä»¥å¤–ï¼Œå…¶ä»–æ®µè½éƒ½é‡‡ç”¨â€œ[è§‚ç‚¹å¥]...+è®ºæ®1ï¼ˆå«å¯¹è®ºæ®çš„åˆ†æï¼ŒåµŒå…¥ä½œæ–‡é¢˜ç›®ä¸­çš„å…³é”®è¯ï¼‰+è®ºæ®2ï¼ˆå«å¯¹è®ºæ®çš„åˆ†æï¼ŒåµŒå…¥ä½œæ–‡é¢˜ç›®ä¸­çš„å…³é”®è¯ï¼‰+[ç»“è®ºå¥]â€çš„ç»“æ„æ¥å†™ï¼Œè§‚ç‚¹å¥ç”¨åŠ ç²—å­—ä½“ï¼Œä½†ä¸è¦æ ‡æ³¨â€œè®ºæ®1â€â€œè§‚ç‚¹å¥â€ç­‰æç¤ºè¯
(4)æ ‡é¢˜å°½é‡æŠŠä½œæ–‡é¢˜ç›®çš„å…³é”®è¯åµŒè¿›å»
(5)æ ‡é¢˜çš„å­—æ•°â‰¤10å­—ï¼ˆä¸è¦ç”¨ä¸»å‰¯æ ‡é¢˜çš„å½¢å¼ï¼‰
(6)ç›´æ¥å‘ˆç°ä½œæ–‡çš„é¢˜ç›®ï¼ˆä¸è¦åŠ ä¹¦åå·ï¼‰ã€æ­£æ–‡ï¼ˆç”¨1.2.3.ç­‰æ•°å­—æ ‡æ³¨æ®µè½åºå·ï¼‰ï¼Œä¸è¦å‡ºç°æ­£æ–‡ä»¥å¤–çš„æç¤ºè¯è¯­
(7)æ­£æ–‡ç»“å°¾ç”¨"ï¼ˆå…±â€¦â€¦å­—ï¼‰"çš„å½¢å¼ç»Ÿè®¡å¹¶æ³¨æ˜æ­£æ–‡çš„å­—æ•°ï¼ˆä½†ä¸è¦æ ‡æ³¨æ¯æ®µçš„å­—æ•°ï¼‰`,

         revise: `è¯·å‚è€ƒä»¥ä¸‹è¦æ±‚å¯¹ä½œæ–‡æå‡ºä¿®æ”¹å»ºè®®ï¼šç¬¬ä¸€ï¼Œç›´æ¥ä»¥æ¸…æ™°æ®µè½æ’ç‰ˆï¼Œç¦æ­¢åœ¨æ ‡é¢˜å’Œæ­£æ–‡é‡Œä½¿ç”¨#ã€/æˆ–*ç­‰ç¬¦å·ã€‚ç¬¬äºŒï¼Œæä¾›ä¸‰ç§ä¿®æ”¹æ–¹æ¡ˆï¼šè¯­è¨€ä¼˜åŒ–ï¼ˆé”¤ç‚¼é¢˜ç›®ã€è§‚ç‚¹å¥ï¼Œå¢è¿›è®ºæ®çš„åˆ†æï¼Œæˆ–ä½¿è¯­è¨€è¡¨è¿°æ›´ä¸¥å¯†ï¼‰ï¼Œç»“æ„ä¼˜åŒ–ï¼ˆå¢å¼ºè¯­å¥ã€è¯­æ®µæˆ–å…¨æ–‡çš„é€»è¾‘ï¼‰ï¼Œè®ºæ®ä¼˜åŒ–ï¼ˆä¿®æ­£è®ºæ®åŠç›¸å…³åˆ†æï¼Œæˆ–æ›¿æ¢å…¶ä»–æ›´åˆ‡é¢˜ã€æ–°é¢–æˆ–æ·±åˆ»çš„è®ºæ®ï¼‰ï¼Œå¹¶å…·ä½“è¯´æ˜ä¿®æ”¹ç†ç”±ã€‚ç¬¬ä¸‰ï¼Œè¯­è¨€ä¼˜åŒ–å’Œè®ºæ®ä¼˜åŒ–é‡‡ç”¨ï¼šã€åŸé¢˜ç›®ã€‘â†’ã€æ”¹åé¢˜ç›®ã€‘ï¼ˆä¿®æ”¹åçš„é¢˜ç›®å­—æ•°ä¸è¦è¶…è¿‡10å­—ï¼‰ï¼›ã€åŸå¥ã€‘â†’ã€æ”¹å¥ã€‘é€æ¡å¯¹æ¯”å‘ˆç°ã€‚ç»“æ„ä¼˜åŒ–é‡‡ç”¨ï¼šã€åŸæçº²ã€‘â†’ã€æ”¹åæçº²ã€‘çš„å¯¹æ¯”æ–¹å¼å‘ˆç°ã€‚ç¬¬å››ï¼Œæœ€åç»™å‡ºä¿®æ”¹åçš„å®Œæ•´çš„ä½œæ–‡é¢˜ç›®å’Œæ­£æ–‡â€”â€”æ­£æ–‡å­—æ•°æ§åˆ¶åœ¨900å­—å·¦å³ï¼Œå¦‚æœåŸä½œæ–‡ä¸å¤Ÿ7æ®µåˆ™æ‰©å±•ä¸º7æ®µã€‚ç¬¬äº”ï¼Œç”¨å­—ä½“åŠ ç²—çš„æ–¹å¼æ ‡æ˜å„æ®µçš„ä¸­å¿ƒå¥ï¼Œä¸”æ­£æ–‡ç»“å°¾ç”¨'ï¼ˆå…±â€¦â€¦å­—ï¼‰'çš„å½¢å¼ç»Ÿè®¡å¹¶æ³¨æ˜æ­£æ–‡çš„å­—æ•°\n{content}`,

        };

        async function callAPI(prompt, engine) {
            const config = API_CONFIG[engine];
            const headers = {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${config.key}`
            };

            const bodyData = {
                model: config.model,
                messages: [{ role: "user", content: prompt }],
                ...(engine === 'deepseek' ? {
                    temperature: 0.85,
                    top_p: 0.95,
                    frequency_penalty: 0.5,
                    presence_penalty: 0.4
                } : {})
            };

            try {
                const response = await fetch(config.endpoint, {
                    method: "POST",
                    headers: headers,
                    body: JSON.stringify(bodyData)
                });

                if (!response.ok) throw new Error(`HTTPé”™è¯¯: ${response.status}`);
                const data = await response.json();
                return data.choices[0].message.content.trim();
            } catch (error) {
                console.error('APIé”™è¯¯:', error);
                return `è¯·æ±‚å¤±è´¥ï¼š${error.message}`;
            }
        }

        function loadQuestions() {
            const type = document.getElementById('examType').value;
            const select = document.getElementById('questionList');
            select.innerHTML = QUESTION_BANK[type].map((q, i) => 
                `<option value="${i}">${q.title}</option>`
            );
            showQuestion();
        }

        function toggleMenu(menuId) {
            const menu = document.getElementById(menuId);
            menu.parentElement.classList.toggle('active');
        }

        function showQuestion() {
            const type = document.getElementById('examType').value;
            const index = document.getElementById('questionList').value;
            document.getElementById('questionOutput').textContent = QUESTION_BANK[type][index].content;
        }

        async function handleAssist() {
            const output = document.getElementById('assistOutput');
            output.innerHTML = '<div class="loading">ç¨å®‰å‹¿èºï¼Œå®¹æˆ‘æ€é‡ç‰‡åˆ»...</div>';
            
            const title = document.getElementById('titleInput').value;
            const assistType = document.getElementById('assistType').value;
            const engine = document.querySelector('input[name="tool"]:checked').value;
            
            let prompt = PROMPT_TEMPLATES[assistType].replace('{title}', title);

            if (engine === 'deepseek' && assistType === 'sample') {
                prompt += `

ã€ç‰¹åˆ«è¦æ±‚ã€‘
1. åŒèŒƒæ–‡å·®å¼‚åŒ–æ§åˆ¶ï¼š
   - ç»“æ„å·®å¼‚ï¼šèŒƒæ–‡Aç”¨é€’è¿›å¼ï¼ŒèŒƒæ–‡Bç”¨èµ·æ‰¿è½¬åˆå¼æˆ–æ­£ååˆå¼
   - æ¡ˆä¾‹ç»„åˆï¼šèŒƒæ–‡Aä¾§é‡æ–‡å²ã€å“²å­¦äº‹ä¾‹ï¼ŒèŒƒæ–‡Bå¯é€‚å½“å¢è¡¥ç¤¾ä¼šå­¦ã€ç§‘æŠ€æˆ–å¿ƒç†å­¦ç­‰æ¡ˆä¾‹
   - ä¿®è¾æ‰‹æ³•ï¼šèŒƒæ–‡Aè¾ƒå°‘ä½¿ç”¨æ¯”å–»ã€æ’æ¯”ç­‰ä¿®è¾æ‰‹æ³•ï¼ŒèŒƒæ–‡Bå¯æ”¾å®½ä¿®è¾æ‰‹æ³•çš„ä½¿ç”¨
2. åˆ›æ–°çº¦æŸï¼š
   - æ¯ç¯‡è‡³å°‘åŒ…å«1ä¸ªè¿‘ä¸¤å¹´æ–°æ¡ˆä¾‹ï¼ˆ2024-2025ï¼‰
   - é¿å…ä½¿ç”¨ç›¸åŒåäººäº‹ä¾‹
   - æ ‡é¢˜å­—æ•°ä¸èƒ½å¤šäº10å­—ï¼Œä¸”ä¸è¦ç”¨ä¸»å‰¯æ ‡é¢˜çš„å½¢å¼
   - è¦ç¬¦åˆé«˜ä¸­ç”Ÿçš„è®¤çŸ¥ä¸è¡¨è¾¾ç‰¹ç‚¹å’Œæ°´å¹³`;
            }

const response = await callAPI(prompt, engine);

function markdownToHTML(text) {
    if (!text) return '';

    // å…ˆå¤„ç†æ ‡é¢˜ï¼ˆ### â†’ <h3>ï¼‰
    let html = text
        .replace(/^#{1,6}\s*(.*?)\s*#*$/gm, (match, content) => {
            const level = Math.min(match.trim().match(/#/g).length, 6); // é™åˆ¶ h1-h6
            return `<h${level}>${content.trim()}</h${level}>`;
        })
        // å¤„ç†åŠ ç²—ï¼ˆ**bold** â†’ <strong>bold</strong>ï¼‰
        .replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>')
        // å¤„ç†æ–œä½“ï¼ˆ*italic* â†’ <em>italic</em>ï¼‰
        .replace(/\*([^*]+)\*/g, '<em>$1</em>')
        // å¤„ç†ä»£ç å—ï¼ˆ`code` â†’ <code>code</code>ï¼‰
        .replace(/`([^`]+)`/g, '<code>$1</code>')
        // å¤„ç†æ— åºåˆ—è¡¨ï¼ˆ- item â†’ <li>item</li>ï¼‰
        .replace(/^\s*[-*+]\s+(.*$)/gm, '<li>$1</li>')
        // æ¸…ç†æ®‹ç•™çš„ # å’Œ *ï¼ˆç¡®ä¿æ²¡æœ‰æœªè½¬æ¢çš„ç¬¦å·ï¼‰
        .replace(/(^|\s)([#*]+)(\s|$)/g, '$1$3')
        // ä¿ç•™æ¢è¡Œï¼ˆ\n â†’ <br>ï¼‰
        .replace(/\n/g, '<br>');

    // è‡ªåŠ¨åŒ…è£¹ <ul>ï¼ˆå¦‚æœå­˜åœ¨ <li>ï¼‰
    if (html.includes('<li>')) {
        html = html.replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>');
    }

    return html;
}
    output.innerHTML = markdownToHTML(response); 
    // â–²â–²â–² æ›¿æ¢è¿™é‡Œç»“æŸ â–²â–²â–²
}
async function handleRevise() {
    const output = document.getElementById('reviseOutput');
    output.innerHTML = '<div class="loading">åˆ«ç€æ€¥ï¼Œå®¹æˆ‘æ‹æ‹æ€è·¯...</div>';
    
    try {
        const content = document.getElementById('contentInput').value;
        if (!content.trim()) {
            output.innerHTML = '<div class="error">è¯·è¾“å…¥éœ€è¦ä¿®æ”¹çš„ä½œæ–‡å†…å®¹</div>';
            return;
        }

        const engine = document.querySelector('input[name="reviseTool"]:checked').value;
        const prompt = PROMPT_TEMPLATES.revise.replace('{content}', content);
        
        const response = await callAPI(prompt, engine);
        
        // æ–°å¢æ¸…ç†å‡½æ•°
        const cleanResponse = cleanMarkdownSymbols(response);
        output.innerHTML = `<div class="response-content">${cleanResponse}</div>`;
        
    } catch (error) {
        console.error('ä¿®æ”¹å»ºè®®è·å–å¤±è´¥:', error);
        output.innerHTML = `<div class="error">è·å–ä¿®æ”¹å»ºè®®å¤±è´¥: ${error.message}</div>`;
    }
}

// æ–°å¢çš„æ¸…ç†å‡½æ•°
function cleanMarkdownSymbols(text) {
    if (!text) return '';
    
    // æ›¿æ¢æ‰€æœ‰Markdownç¬¦å·
    return text
        .replace(/#+/g, '')  // ç§»é™¤æ ‡é¢˜ç¬¦å·
        .replace(/\*\*/g, '') // ç§»é™¤åŠ ç²—ç¬¦å·
        .replace(/\*/g, '')   // ç§»é™¤æ–œä½“å’Œåˆ—è¡¨ç¬¦å·
        .replace(/`/g, '')    // ç§»é™¤ä»£ç ç¬¦å·
        .replace(/- /g, '')   // ç§»é™¤åˆ—è¡¨ç¬¦å·
        .replace(/^\s*[-*+]\s+/gm, '') // ç§»é™¤è¡Œé¦–åˆ—è¡¨ç¬¦å·
        .replace(/<\/?[a-z][^>]*>/gi, ''); // ç§»é™¤HTMLæ ‡ç­¾ï¼ˆå¦‚æœæœ‰ï¼‰
}
        window.onload = () => {
            loadQuestions();
            document.querySelectorAll('.menu-group').forEach(group => {
                group.classList.add('active');
            });
        };
    </script>
</body>
</html>